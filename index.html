<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>I Am Groot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');
    body { font-family: 'Poppins', sans-serif; }
    .glow-effect:hover { box-shadow: 0 0 15px rgba(255,204,0,0.6); }
    .video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; }
    .video-container video { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
    .season-selector::-webkit-scrollbar { display: none; }
  </style>
</head>

<body class="bg-black text-gray-100 min-h-screen">

<!-- Header -->
<header class="sticky top-0 z-50 bg-black bg-opacity-90 backdrop-blur-sm border-b border-yellow-600/20">
  <div class="container mx-auto px-4 py-4 flex justify-between items-center">
    <div class="flex items-center space-x-2">
      <div class="w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center">
        <i class="fas fa-shield-alt text-black text-xl"></i>
      </div>
      <h1 class="text-2xl font-bold gradient-text">I Am Groot</h1>
    </div>
    
    <div class="flex items-center space-x-4">
      <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-800 transition">
        <i class="fas fa-moon text-yellow-500"></i>
      </button>
      <button id="search-btn" class="p-2 rounded-full hover:bg-gray-800 transition">
        <i class="fas fa-search text-yellow-500"></i>
      </button>
    </div>
  </div>

  <!-- Search Bar -->
  <div id="search-bar" class="hidden px-4 pb-4">
    <div class="relative">
      <input id="search-input" type="text" placeholder="Search episodes..."
        class="w-full bg-gray-900 border border-yellow-600/30 rounded-full py-2 px-4 pl-10 text-white focus:ring-2 focus:ring-yellow-500">
      <i class="fas fa-search absolute left-3 top-3 text-yellow-500"></i>
    </div>
  </div>
</header>

<!-- Hero Banner -->
<section class="relative overflow-hidden h-64 md:h-96 mb-8">
  <video autoplay muted loop class="absolute inset-0 w-full h-full object-cover">
    <source src="https://imdb-video.media-imdb.com/vi210224921/1434659607842-pgv4ql-1691413662477.mp4?Expires=1761973033&Signature=jooeLqjQOOPVTH-~j58~8CEaNt4oDEH-DHLmN~HjUY9oQjVDlPilELMANBnguXzOAXyA9Rq3VRRSdHnjcIJOQjstyTE7XSo22tmQfsbWwZUPUbqfainOzsSrgBVRk4d3BYY7AXpfwX3KXAA3etBp7Lz9FWJyloIW0AG~t4wN8aoito1UEDVH8I-fD9sSm9e9TEITIaKEEcpNmr-61RbmWt6dU7N9Rz0zNmiKQJuOroEJGDtjcedxMwUjUhu2UGGsuLZMys5jBGr1nxso4MRPZu1Mbbhadtyna7wL77dQRNv9v8iEhWRF7jupU8ppu1Vygo5~zzXd-LmDtNp5tvzo9w__&Key-Pair-Id=APKAIFLZBVQZ24NQH3KA" type="video/mp4">
  </video>
  <div class="absolute inset-0 bg-gradient-to-r from-black via-black/50 to-transparent"></div>
</section>

<!-- Season Filters -->
<div class="container mx-auto px-4 mb-4 flex space-x-2 overflow-x-auto season-selector">
  <button class="season-btn active bg-yellow-600 text-black px-4 py-2 rounded-full" data-season="all">All</button>
  <button class="season-btn bg-gray-800 px-4 py-2 rounded-full" data-season="1">Season 1</button>
  <button class="season-btn bg-gray-800 px-4 py-2 rounded-full" data-season="2">Season 2</button>
</div>

<!-- Tag filters -->
<div class="container mx-auto px-4 mb-6 flex space-x-2 overflow-x-auto">
  <button class="filter-btn active bg-yellow-600 text-black px-4 py-2 rounded-full">All</button>
  <button class="filter-btn bg-gray-800 px-4 py-2 rounded-full">Comedy</button>
  <button class="filter-btn bg-gray-800 px-4 py-2 rounded-full">Family</button>
  <button class="filter-btn bg-gray-800 px-4 py-2 rounded-full">Sci-Fi</button>
  <button class="filter-btn bg-gray-800 px-4 py-2 rounded-full">Adventure</button>
</div>

<!-- Episode Grid -->
<div class="container mx-auto px-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6" id="movies"></div>

<!-- Footer -->
<footer class="bg-gray-900 border-t border-gray-800 mt-12 py-8 text-center text-gray-400">
  © 2023 Marvel Studios | Fan Project
</footer>

<!-- Modal Player -->
<div id="playback-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black bg-opacity-90">
  <div class="relative w-full max-w-4xl bg-gray-900 rounded-xl overflow-hidden">
    <button id="close-modal" class="absolute top-4 right-4 text-white text-2xl"><i class="fas fa-times"></i></button>

    <div class="video-container"><video id="modal-video" class="w-full" controls playsinline></video></div>
    
    <div class="p-6">
      <h3 id="modal-title" class="text-2xl font-bold mb-2"></h3>
      <div class="text-gray-400 text-sm mb-2"><span id="season-episode"></span> • <span id="episode-duration"></span></div>
      <p id="modal-description" class="text-gray-300 mb-4"></p>

      <div class="flex justify-between pt-3">
        <button onclick="playPrev()" class="px-4 py-2 bg-gray-800 text-white rounded">Prev</button>
        <button onclick="playNext()" class="px-4 py-2 bg-gray-800 text-white rounded">Next</button>
      </div>
    </div>
  </div>
</div>

<script>
// ========= EPISODE DATA =========
const movies = [
      // Season 1
      { 
        title: "Groot's First Steps", 
        video: "https://sojg.merridianhospitality.site/v4/9a/b9uzv/cf-master.txt?v=1731882962", 
        image: "https://image.tmdb.org/t/p/w300/iecIwrRoq1uZfhJ9XRrZD29Zr4R.jpg",
        description: "Baby Groot takes his first steps out of his pot, only to learn you have to walk before you can run.",
        duration: "6 min",
        season: 1,
        episode: 1,
        tags: ["Adventure", "Family"]
      },
      { 
        title: "The Little Guy", 
        video: "https://cdn30092.ginni386kex.com:443/stream2/i-arch-400/124de233b0783ac68aa5e25dcbcc16b0/MJTMsp1RshGTygnMNRUR2N2MSlnWXZEdMNDZzQWe5MDZzMmdZJTO1R2RWVHZDljekhkSsl1VwYnWtx2cihVT2lleJpnWHllMOp2Z04kaFhnTtVUePdlRppFVsxWW6V0MORVS35EROl2TUVVP:1761889584:160.119.251.137:0d3f105d83835950285668d9530556d608dbecb122448352539b9dbf3ea565fa/./1080/index.m3u8", 
        image: "https://image.tmdb.org/t/p/w300/6pFcTY18M9EpKQEEZZMzVnX4bMF.jpg",
        description: "Groot discovers a miniature civilization that believes the seemingly enormous tree toddler is the hero they've been waiting for.",
        duration: "4 min",
        season: 1,
        episode: 2,
        tags: ["Adventure", "Comedy"]
      },
      { 
        title: "Groot's Pursuit", 
        video: "https://cdn30092.ginni386kex.com:443/stream2/i-arch-400/124de233b0783ac68aa5e25dcbcc16b0/MJTMsp1RshGTygnMNRUR2N2MSlnWXZEdMNDZzQWe5MDZzMmdZJTO1R2RWVHZDljekhkSsl1VwYnWtx2cihVT21EVjJTTHpEbNRVTwkVbah2TU1Eea1WWx4EVStWWtVVMORlUo5keRBTT61UP:1761889608:160.119.251.137:cfbfbf1f2f6f9a7111af964cf2db7e7c68756fbbb26492d7035dbf4f8b62b275/./1080/index.m3u8", 
        image: "https://image.tmdb.org/t/p/w300/nv0q5V1vGwRVO4Rv3MOEmniUbWj.jpg",
        description: "Groot investigates a spooky noise that's been haunting the Quadrant, which leads to an intense dance off.",
        duration: "4 min",
        season: 1,
        episode: 3,
        tags: ["Comedy", "Sci-Fi"]
      },
      { 
        title: "Groot Takes a Bath", 
        video: "https://cdn30092.ginni386kex.com:443/stream2/i-arch-400/124de233b0783ac68aa5e25dcbcc16b0/MJTMsp1RshGTygnMNRUR2N2MSlnWXZEdMNDZzQWe5MDZzMmdZJTO1R2RWVHZDljekhkSsl1VwYnWtx2cihVT2pVbNhXTtlEeZpHZr9EVjFzTUVVeNJTS41kaJFTWt1ENOp3Z65kaJh3TU1UP:1761889631:160.119.251.137:3c7b50797b9383585be727bd6e7d29cfe0f31365d2b0d5dc93ece90462fae1eb/./1080/index.m3u8", 
        image: "https://image.tmdb.org/t/p/w300/stKeLppDBwscxoE9RXxNyrur27G.jpg",
        description: "Everybody needs some alone time to relax and wash up, but things go quite differently when you're a Flora Colossi toddler.",
        duration: "4 min",
        season: 1,
        episode: 4,
        tags: ["Comedy", "Family"]
      },
      { 
        title: "Magnum Opus", 
        video: "https://cdn30092.ginni386kex.com:443/stream2/i-arch-400/124de233b0783ac68aa5e25dcbcc16b0/MJTMsp1RshGTygnMNRUR2N2MSlnWXZEdMNDZzQWe5MDZzMmdZJTO1R2RWVHZDljekhkSsl1VwYnWtx2cihVT2llaCtmWHFFeOpWWy8EVZBTWqtmMZJTR61keZp3TX5kaa1WTx8EVFVjWHlUP:1761889659:160.119.251.137:9fb5f1165ca690d25ae9355ddf668ec784a71f9fad07d9bd11e3c6ced9880fa6/./1080/index.m3u8", 
        image: "https://image.tmdb.org/t/p/w300/cnhzecqkKHBIyM4QMbxRy5fbW3l.jpg",
        description: "Groot sets out to paint a family portrait of himself and the Guardians, only to discover just how messy the artistic process can be.",
        duration: "4 min",
        season: 1,
        episode: 5,
        tags: ["Comedy", "Family"]
      },
      
      // Season 2
      { 
        title: "Are You My Groot?", 
        video: "https://cdn30092.ginni386kex.com:443/stream2/i-arch-400/124de233b0783ac68aa5e25dcbcc16b0/MJTMsp1RshGTygnMNRUR2N2MSlnWXZEdMNDZzQWe5MDZzMmdZJTO1R2RWVHZDljekhkSsl1VwYnWtx2cihVT2llMWpWWqRWbORVQwkleJFjT6lEeO1mUppFRKp2TUlVeNpXUw0kaNhnTyEVP:1761889890:160.119.251.137:eb0a7482dfb696bf3a008a1bc5beb578b98b0e0b75cea5d523af8634a21fadc2/./1080/index.m3u8", 
        image: "https://image.tmdb.org/t/p/w300/rJelmgL1yTFfH2PhC3LufMhYQko.jpg",
        description: "Groot stumbles across a strange egg, adopting the little creature that emerges as his own.",
        duration: "5 min",
        season: 2,
        episode: 1,
        tags: ["Adventure", "Comedy"]
      },
      { 
        title: "Groot Noses Around", 
        video: "https://hk1.shegu.net/vip/p1/tv_mp4_h264/1/9/18359/2/tv.18359.S2E2.720p.H264.20230906095803.mp4?KEY1=2N77eS_ENXz_khmBa4E-Xw&KEY2=1761900880&KEY3=1104596&KEY4=world&KEY7=febbox_video_quality_list_v3&KEY8=1104596", 
        image: "https://image.tmdb.org/t/p/w300/bf39ykfbUodisUirJXcUbI8bRFe.jpg",
        description: "When Groot gets the sense of smell, he learns not to stick his new nose where it doesn't belong.",
        duration: "5 min",
        season: 2,
        episode: 2,
        tags: ["Adventure", "Family"]
      },
      { 
        title: "Groot's Snow Day", 
        video: "https://hk1.shegu.net/vip/p1/tv_mp4_h264/1/9/18359/2/tv.18359.S2E3.720p.H264.20230906095803.mp4?KEY1=7yAvlEmEpC7E4zP9UsU9xw&KEY2=1761900922&KEY3=1101258&KEY4=world&KEY7=febbox_video_quality_list_v3&KEY8=1101258", 
        image: "https://image.tmdb.org/t/p/w300/6H9lUVRUJyWn7t0VAix83TszrfJ.jpg",
        description: "Groot builds a snowman with scraps of junk, creating an unstoppable snowman-robot that wreaks havoc.",
        duration: "4 min",
        season: 2,
        episode: 3,
        tags: ["Comedy", "Family"]
      },
      { 
        title: "Groot's Sweet Treat", 
        video: "https://hk1.shegu.net/vip/p1/tv_mp4_h264/1/9/18359/2/tv.18359.S2E4.720p.H264.20230906095804.mp4?KEY1=1SiVBFzSXgsMFw30KBmu7A&KEY2=1761900955&KEY3=1101678&KEY4=world&KEY7=febbox_video_quality_list_v3&KEY8=1101678", 
        image: "https://image.tmdb.org/t/p/w300/4PSxBL0Muya07GIteMxJhA4A2iB.jpg",
        description: "Groot frantically scours the ship for coins as an intergalactic ice cream truck approaches.",
        duration: "6 min",
        season: 2,
        episode: 4,
        tags: ["Adventure", "Family"]
      },
      { 
        title: "Groot and the Great Prophecy", 
        video: "https://hk1.shegu.net/vip/p1/tv_mp4_h264/1/9/18359/2/tv.18359.S2E5.720p.H264.20230906095803.mp4?KEY1=YjV0luXmtqhgnxKSjNZhHA&KEY2=1761900989&KEY3=1101678&KEY4=world&KEY7=febbox_video_quality_list_v3&KEY8=1101678", 
        image: "https://image.tmdb.org/t/p/w300/o7gblk3nygQh2lEIjCHEdLK3RHA.jpg",
        description: "Groot lands in the heart of an ancient temple with a prophecy he must fulfill to save the universe.",
        duration: "5 min",
        season: 2,
        episode: 5,
        tags: ["Comedy", "Sci-Fi"]
      }
    ];

// ========= DOM =========
const container = document.getElementById('movies');
const searchBtn = document.getElementById('search-btn');
const searchBar = document.getElementById('search-bar');
const searchInput = document.getElementById('search-input');
const playbackModal = document.getElementById('playback-modal');
const modalVideo = document.getElementById('modal-video');
const modalTitle = document.getElementById('modal-title');
const modalDescription = document.getElementById('modal-description');
const seasonEpisode = document.getElementById('season-episode');
const episodeDuration = document.getElementById('episode-duration');
const closeModal = document.getElementById('close-modal');
const seasonBtns = document.querySelectorAll('.season-btn');
const filterBtns = document.querySelectorAll('.filter-btn');

// ========= FILTERS =========
let currentSeason = 'all';
let currentFilter = 'All';
searchBtn.addEventListener('click', ()=> searchBar.classList.toggle('hidden'));

searchInput.addEventListener("input", renderMovies);

seasonBtns.forEach(btn=>{
  btn.onclick=()=>{document.querySelector('.season-btn.active').classList.remove('active','bg-yellow-600','text-black');
  btn.classList.add('active','bg-yellow-600','text-black'); currentSeason=btn.dataset.season; renderMovies();};
});

filterBtns.forEach(btn=>{
  btn.onclick=()=>{document.querySelector('.filter-btn.active').classList.remove('active','bg-yellow-600','text-black');
  btn.classList.add('active','bg-yellow-600','text-black'); currentFilter=btn.textContent; renderMovies();};
});

// ========= STREAM LOGIC FROM MARVEL =========
function isStream(url){return /\.(m3u8|txt)$/i.test(url);}
function isMP4(url){return /\.mp4(\?|$)/i.test(url);}
let currentVideo=null;

function openModal(movie,index=null){
  let video=movie.video;
  if(typeof video==="string" && isStream(video) && !isMP4(video)){
    window.location.href=`player.html?title=${encodeURIComponent(movie.title)}&video=${encodeURIComponent(video)}`;
    return;
  }
  playInModal(getFilteredMovies(),index!==null?index:getFilteredMovies().indexOf(movie));
}

function playInModal(list,index){
  const m=list[index]; if(!m)return;
  modalTitle.textContent=m.title;
  modalDescription.textContent=m.description;
  seasonEpisode.textContent=`S${m.season} • E${m.episode}`;
  episodeDuration.textContent=m.duration;
  modalVideo.src=m.video;
  playbackModal.classList.remove('hidden');
  document.body.style.overflow='hidden';
  currentVideo={list,index};
  modalVideo.play().catch(()=>{});
}

function closeModalHandler(){playbackModal.classList.add('hidden'); modalVideo.pause(); modalVideo.src=""; document.body.style.overflow=''; currentVideo=null;}
closeModal.onclick=closeModalHandler;
playbackModal.addEventListener("click",e=>{if(e.target===playbackModal)closeModalHandler();});

function playNext(){if(currentVideo && currentVideo.index<currentVideo.list.length-1)playInModal(currentVideo.list,currentVideo.index+1);}
function playPrev(){if(currentVideo && currentVideo.index>0)playInModal(currentVideo.list,currentVideo.index-1);}

document.addEventListener("keydown",e=>{
  if(playbackModal.classList.contains("hidden"))return;
  if(e.key==="Escape")closeModalHandler();
  if(e.key==="ArrowRight")playNext();
  if(e.key==="ArrowLeft")playPrev();
  if(e.key===" "){e.preventDefault(); modalVideo.paused?modalVideo.play():modalVideo.pause();}
});

// ========= RENDER =========
function getFilteredMovies(){
  return movies.filter(m=>(currentSeason==='all' || m.season==currentSeason) && (currentFilter==='All' || m.tags.includes(currentFilter)) && (m.title.toLowerCase().includes(searchInput.value.toLowerCase())));
}

function renderMovies(){
  container.innerHTML='';
  getFilteredMovies().forEach((m,i)=>{
    const c=document.createElement('div');
    c.className=`movie-card glow-effect`;
    c.innerHTML=`
      <div class="relative group overflow-hidden rounded-xl cursor-pointer">
        <img src="${m.image}" class="w-full h-48 object-cover rounded-xl transition group-hover:scale-105">
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 opacity-0 group-hover:opacity-100 transition flex items-end p-4">
          <div><h3 class="text-white font-semibold">${m.title}</h3><p class="text-gray-300 text-sm">${m.duration}</p></div>
        </div>
        <div class="absolute top-3 right-3 bg-black bg-opacity-70 text-yellow-500 rounded-full p-2"><i class="fas fa-play"></i></div>
      </div>
      <div class="mt-3 text-sm text-gray-300">
        <div>S${m.season} • E${m.episode} • ${m.duration}</div>
      </div>`;
    c.addEventListener('click',()=>openModal(m,i));
    container.appendChild(c);
  });
}

renderMovies();
</script>

</body>
</html>
